{% extends '_base_login_.html'%}
{%block left%}
<div class="span7">
    <div id="myCarousel" class="carousel slide">
            <ol class="carousel-indicators">
              <li data-target="#myCarousel" data-slide-to="0" class=""></li>
              <li data-target="#myCarousel" data-slide-to="1" class="active"></li>
              <li data-target="#myCarousel" data-slide-to="2"></li>
            </ol>
            <!-- Carousel items -->
            <div class="carousel-inner">
              <div class="item">
                <img src="/static/flatUI/images/carousel/image-01.jpg" alt="">
                <div class="carousel-caption">
                  <h4>Thumbnail label</h4>
                  <p>Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec.</p>
                </div>
              </div>
              <div class="item active">
                <img src="/static/flatUI/images/carousel/image-02.jpg" alt="">
                <div class="carousel-caption">
                  <h4>Thumbnail label</h4>
                  <p>Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec.</p>
                </div>
              </div>
              <div class="item">
                <img src="/static/flatUI/images/carousel/image-03.jpg" alt="">
                <div class="carousel-caption">
                  <h4>Thumbnail label</h4>
                  <p>Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec.</p>
                </div>
              </div>
            </div>
            <!-- Carousel nav -->
            <a class="carousel-control fui-arrow-left left" href="#myCarousel" data-slide="prev"></a>
            <a class="carousel-control fui-arrow-right right" href="#myCarousel" data-slide="next"></a>
          </div>
    </div>
    {%endblock%}
{% block right%} 
<div class="span3 offset1" style="margin-top:20px;">
 <form action="{% url 'web.accountviews.register_do' %}" method='POST' autocomplete="off" class="loginform" onsubmit="return validate()">
  {% csrf_token %}
  {% autoescape on %}
    <div class="control-group">
        <div class="input-prepend">
            <span class="add-on"><i class="fui-mail"></i></span>
            <input type="email" name="email" value="{%if not emailExist %}{%if email%}{{email}}{%endif%}{%endif%}" id="email" placeholder='邮箱' required/>
        </div>
        {%if emailExist%}<span>该邮箱已经注册,直接 <a href="/login?email={{email}}">登录</a></span>{%endif%}
    </div>
    <div class="control-group">
        <div class="input-prepend">
            <span class="add-on"><i class="fui-user"></i></span>
            <input type="text" name="nickname" value="{%if nickname%}{{nickname}}{%endif%}" placeholder='昵称' required/>
        </div>
    </div>
    <div class="control-group">
        <div class="input-prepend">
            <span class="add-on"><i class="fui-lock"></i></span>
            <input type="password" name="password" id="password" value="{% if password%}{{password}}{%endif%}" id="password" placeholder='密码' required/>
        </div>
    </div>
    <div class="control-group">
        <div class="input-prepend">
            <span class="add-on"><i class="fui-lock"></i></span>
            <input type="password" name="password_confirm" id="password_confirm" value="{%if password_confirm%}{{password_confirm}}{%endif%}" id="password_confirm" placeholder='确认密码' required/>
        </div>
        <span id="confirm_error"></span>
    </div>
    <div class="control-group">
            <input type="submit" value="注册" class="btn btn-primary"/>
    </div>
    <div class="control-group">
        已经有账号？点击<a href='/login'>登录</a>
    </div>
 {% endautoescape %}
  </form>
  </div>
{%endblock%}
{%block javascript%}
  <script type="text/javascript">
        function validate(){
            pass1 = $("#password").val()
            pass2 = $("#password_confirm").val()
            if(pass1 != pass2){
                $("#password_confirm").val('');
                $("#confirm_error").html("两次输入的密码不一致")
                return false
            }
            return true
        }
  </script>
{%endblock%}